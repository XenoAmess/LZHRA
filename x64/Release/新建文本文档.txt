#include <bits/stdc++.h>
using namespace std;

int n;
int m;

int pos[300];

int main() {
	scanf("%d", &n);
	scanf("%d", &m);
	int l, r;
	for (int i = 0; i < m; i++) {
		scanf("%d", &l);
		scanf("%d", &r);
		pos[l] = r;
	}
	int ansa = 0;

	for (int len = 1; len <= n + 20; len++) {
		int ti = 1;
		int newansa;
		for (int i = 1; i <= n; i++) {
			if (pos[i] && pos[i] != ti) {
				goto fail;
			}
			if (i % len == 0) {
				ti++;
			}
		}

		if (n % len == 0)
			ti--;
		newansa = ti;

		if (ansa != 0 && newansa != ansa) {
			puts("-1");
			return 0;
		}

		ansa = newansa;

		fail: 0;
	}

	if (ansa) {
		printf("%d\n", ansa);
	} else {
		puts("-1");
	}

	return 0;
}
